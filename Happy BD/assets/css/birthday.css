.prefers-reduced-motion #bd-balloons .balloon{animation:none!important;}.bd-root #toast-container{position:fixed;top:20px;right:20px;display:flex;flex-direction:column;gap:10px;z-index:200;}.bd-root .toast{background:rgba(13,27,42,0.85);color:var(--ink);padding:10px 16px;border-radius:999px;box-shadow:0 8px 20px rgba(0,0,0,0.4);opacity:0;transform:translateY(-10px);transition:opacity .25s ease, transform .25s ease;}.bd-root .toast.enter{opacity:1;transform:translateY(0);}.bd-root .toast.exit{opacity:0;transform:translateY(-10px);}.bd-root .toast-info{background:rgba(13,27,42,0.85);color:var(--ink);}.bd-root .toast-success{background:rgba(111,207,151,0.85);color:#0d1b2a;}.bd-root .toast-error{background:rgba(255,107,107,0.85);color:#fff;}.bd-root .sr-only{position:absolute!important;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;}/* ===== 设计系统 ===== *//* 兜底，避免再看到 UA 白底 */.bd-root .container{width:min(1100px,92vw);margin:0 auto;padding:56px 0}.bd-root .section{padding:64px 0;border-top:1px solid rgba(255,255,255,.06)}.bd-root .card{background:linear-gradient(180deg,var(--glass),rgba(255,255,255,0.02));border:1px solid rgba(255,255,255,.08);backdrop-filter:blur(6px);-webkit-backdrop-filter:blur(6px);border-radius:var(--radius);box-shadow:var(--shadow)}.bd-root .btn{appearance:none;border:none;border-radius:999px;background:linear-gradient(135deg,var(--rose),#ffd2df 60%,#fff1f6);color:#381a22;font-weight:700;padding:12px 20px;cursor:pointer;box-shadow:0 6px 18px rgba(239,184,200,.35);transition:transform .15s ease, box-shadow .15s ease}.bd-root .btn:hover{transform:translateY(-1px);box-shadow:0 10px 24px rgba(239,184,200,.5)}.bd-root .btn.ghost{background:transparent;color:var(--ink);border:1px solid rgba(255,255,255,.16);box-shadow:none}.bd-root .btn:focus-visible, .bd-root .tag:focus-visible, .bd-root .face[role="button"]:focus-visible{outline:2px solid var(--rose);outline-offset:2px}.bd-root .muted{color:var(--muted)}.bd-root .pill{display:inline-flex;align-items:center;gap:.4rem;padding:.35rem .7rem;border-radius:999px;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.1);font-size:.85rem}.bd-root .grid{display:grid;gap:16px}@media (min-width:800px){.bd-root .grid.cols-3{grid-template-columns:repeat(3,1fr)}.bd-root .grid.cols-4{grid-template-columns:repeat(4,1fr)}}/* ===== 顶部导航 ===== */.bd-root .nav{position:sticky;top:0;z-index:40;background:linear-gradient(180deg,rgba(8,17,29,.9),rgba(8,17,29,.6) 80%,transparent);backdrop-filter:blur(6px);border-bottom:1px solid rgba(255,255,255,.06)}.bd-root .nav-inner{width:min(1024px,92vw);margin:0 auto;display:flex;align-items:center;justify-content:space-between;padding:10px 0}.bd-root .nav a{padding:8px 10px;border-radius:8px;color:var(--ink)}.bd-root .nav a:hover{background:rgba(255,255,255,.06)}/* ===== Hero 星河舞台 ===== */.bd-root #bd-hero{position:relative;min-height:84vh;display:grid;place-items:center}/* 背景层：不再用负层级 */.bd-root #bd-starfield{position:fixed;inset:0;z-index:0;background:#0b1420}/* 暗角罩层：在星空之上，内容之下 */.bd-root #bd-vignette{position:fixed;inset:0;pointer-events:none;z-index:1;
                            background:radial-gradient(1200px 800px at 70% -10%, rgba(18,36,59,.28), rgba(13,27,42,.12) 45%, rgba(8,17,29,0) 100%)}.bd-root .hero-content{position:relative;z-index:1;display:flex;flex-direction:column;align-items:center;text-align:center;gap:16px;padding:20px}.bd-root .title{font-size:clamp(28px,6vw,56px);letter-spacing:.02em}.bd-root .typing{min-height:1.8em;border-right:2px solid var(--rose);white-space:nowrap;overflow:hidden}.bd-root .hero-actions{display:flex;gap:10px;flex-wrap:wrap;justify-content:center}.bd-root .gate{display:flex;gap:8px;align-items:center;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.12);border-radius:999px;padding:6px 8px}.bd-root .gate input{all:unset;padding:6px 10px;min-width:12ch}/* ===== 相册银河 ===== *//* Masonry 列保持不变 */.bd-root .gallery{columns:2 260px;column-gap:14px}/* 关键：给 figure 一个固有高度占位，防止图片失败时高度为 0 */.bd-root .photo{break-inside:avoid;
            position:relative;
            margin:0 0 14px 0;
            border-radius:14px;
            overflow:hidden;
            border:1px solid rgba(255,255,255,.08);
            aspect-ratio: 4 / 3;           /* ✅ 占位高度，现代浏览器 */
            background:rgba(255,255,255,.02);
            /* 兼容非常老的浏览器可加：min-height: 180px; */}/* 让图片铺满容器；即使加载失败也不撑高布局 */.bd-root .photo img{position:absolute;
            inset:0;
            width:100%;
            height:100%;
            object-fit:cover;
            opacity:1;
            transition:opacity .4s ease;}/* 字幕正常多行换行，不被裁切 */.bd-root .photo figcaption{position:absolute;
            left:0; right:0; bottom:0;
            background:linear-gradient(0deg,rgba(0,0,0,.75),transparent);
            padding:12px 12px;
            font-size:.9rem;
            text-align:center;
            line-height:1.4;
            white-space:normal;           /* 防止长英文不换行 */
            word-break:break-word;}.bd-root .tags{display:flex;gap:8px;flex-wrap:wrap;margin:8px 0}.bd-root .tag{cursor:pointer;appearance:none;border:1px solid rgba(255,255,255,.12);background:rgba(255,255,255,.06);color:var(--ink);padding:.35rem .7rem;border-radius:999px}.bd-root .tag[aria-pressed="true"]{background:rgba(239,184,200,.15);border-color:rgba(239,184,200,.5)}/* 图片查看器 */#bd-lightbox{position:fixed;inset:0;background:rgba(0,0,0,.6);display:none;place-items:center;z-index:50}#bd-lightbox.open{display:grid}#bd-lightbox .viewer{width:min(960px,92vw);max-height:86vh;display:grid;gap:10px}#bd-lightbox img{max-height:70vh;margin:auto;border-radius:12px}/* ===== 时间轴 ===== */.bd-root .timeline{overflow:auto hidden;padding:10px}.bd-root .lane{display:flex;gap:16px;min-height:200px}.bd-root .tcard{min-width:240px;perspective:1000px}.bd-root .face{position:relative;height:180px;border-radius:14px;padding:14px;transform-style:preserve-3d;transition:transform .5s;border:1px solid rgba(255,255,255,.1);background:linear-gradient(180deg,var(--glass),rgba(255,255,255,.02))}.bd-root .face.flip{transform:rotateY(180deg)}.bd-root .front, .bd-root .back{position:absolute;inset:0;padding:14px;backface-visibility:hidden}.bd-root .back{transform:rotateY(180deg)}/* （已移除：扭蛋机、小测样式） *//* ===== 拼图 ===== */.bd-root .puzzle{width:min(360px,92vw);height:min(360px,92vw);position:relative;border-radius:12px;overflow:hidden;border:1px solid rgba(255,255,255,.1);background:linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.015))}.bd-root .tile{position:absolute;width:33.3333%;height:33.3333%;background-size:300% 300%;border:1px solid rgba(255,255,255,.05);cursor:pointer;transition:box-shadow .15s}.bd-root .tile:active{box-shadow:0 0 0 2px rgba(255,255,255,.2) inset}/* ===== 全局动效覆盖层 ===== */#bd-overlay{position:fixed;inset:0;pointer-events:none;z-index:20;overflow:hidden}#bd-fireworks{position:absolute;inset:0}#bd-barrage{position:absolute;left:0;right:0;overflow:hidden;top:80px;bottom:auto;height:calc(100vh - 200px)}/* 经典生日页覆盖层 - 安全沙箱嵌入 */.bd-root #bd-overlay-legacy{position:fixed;inset:0;background:rgba(0,0,0,.85);z-index:200;display:none;place-items:center}.bd-root #bd-overlay-legacy.open{display:grid}.bd-root #bd-overlay-legacy iframe{width:min(1000px,95vw);height:min(650px,90vh);border:0;border-radius:12px;box-shadow:0 12px 48px rgba(0,0,0,.6)}.bd-root #bd-close-legacy{position:absolute;top:1rem;right:1rem;z-index:201;font:700 18px system-ui;border:0;background:rgba(0,0,0,.7);color:white;padding:.5rem .8rem;border-radius:.5rem;cursor:pointer;transition:background .2s}.bd-root #bd-close-legacy:hover{background:rgba(0,0,0,.9)}/* 气球设计 - 真正的气球形状 *//* 结构： .balloon > .g(组：气球+线) + small(文字)  */#bd-balloons .balloon{position:absolute;
                bottom:20px;
                display:flex;
                flex-direction:column;
                align-items:center;
                cursor:pointer;
                transition:transform .2s ease;}#bd-balloons .balloon:hover{transform:scale(1.05)}/* 组：气球+线一起旋转 */#bd-balloons .balloon .g{display:flex;
                flex-direction:column;
                align-items:center;
                /* 组一起旋转 ⇒ 气球和线不会分家 */
                transform-origin: 50% 68px; /* 旋转基点在"系结"附近 */
                filter: drop-shadow(0 10px 18px rgba(0,0,0,.35)); /* 阴影给组，而不是给文字 */}/* 气球主体 - 圆形，底部稍尖 */#bd-balloons .balloon .b{width:50px;
                height:65px;
                background:linear-gradient(135deg, var(--balloon-color, #ff6b9d) 0%, var(--balloon-dark, #c9184a) 100%);
                border-radius:50% 50% 50% 50% / 60% 60% 40% 40%;
                position:relative;
                box-shadow:
                    inset -10px -10px 20px rgba(0,0,0,.2),
                    inset 10px 10px 20px rgba(255,255,255,.3),
                    0 10px 30px rgba(0,0,0,.3);
                /* 气球本体的景深模糊通过变量注入；文字不受影响 */
                transform-origin: 50% calc(100% - 6px); /* 围绕系结附近旋转更自然 */
                filter: var(--dof, none);                /* ← 只在 .b 上生效的模糊 */}/* 文字永远不被模糊 */#bd-balloons .balloon small{margin-top:8px; 
                max-width:120px; 
                text-align:center;
                color:var(--ink); 
                font-size:.9rem; 
                line-height:1.3;
                text-shadow:0 2px 4px rgba(0,0,0,.3);
                filter:none !important;                /* 关键：即使父层有 filter，也不让它吃模糊 */
                -webkit-font-smoothing: antialiased;
                text-rendering: optimizeLegibility;}/* 气球上升动画 - 使用视口单位，适配所有屏幕 */@keyframes floatUp{.bd-root 0%{transform:translateY(0) translateX(0) rotate(0deg);
                    opacity:1;}.bd-root 25%{transform:translateY(-30vh) translateX(calc(var(--drift, 0px) * 0.25)) rotate(calc(var(--rotate, 5deg) * 0.5));}.bd-root 50%{transform:translateY(-60vh) translateX(calc(var(--drift, 0px) * 0.5)) rotate(var(--rotate, 5deg));
                    opacity:1;}.bd-root 75%{transform:translateY(-90vh) translateX(calc(var(--drift, 0px) * 0.75)) rotate(calc(var(--rotate, 5deg) * 0.5));
                    opacity:0.7;}.bd-root 100%{transform:translateY(-120vh) translateX(var(--drift, 0px)) rotate(0deg);
                    opacity:0;}}.bd-root .barrage{position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;overflow:hidden}.bd-root .msg{position:absolute;background:rgba(0,0,0,.7);color:#fff;padding:12px 20px;border-radius:999px;font-size:1rem;line-height:1.5;border:1px solid rgba(255,255,255,.2);white-space:nowrap;box-shadow:0 4px 12px rgba(0,0,0,.3)}/* （已移除：承诺书/签名/纪念卡样式） *//* 辅助 */.bd-root .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}.bd-root .right{margin-left:auto}.bd-root .center{text-align:center}.bd-root .hidden{display:none!important}/* Resize Guard: 在频繁缩放/调整窗口时，暂时关闭过渡与动画，避免 GPU/内存抖动 *//* 通知动画 */@keyframes slideIn{.bd-root from{transform:translateX(120%);opacity:0}.bd-root to{transform:translateX(0);opacity:1}}@keyframes slideOut{.bd-root from{transform:translateX(0);opacity:1}.bd-root to{transform:translateX(120%);opacity:0}}/* 图片淡入 + blur-up + shimmer */@keyframes fadeIn{.bd-root from{opacity:0}.bd-root to{opacity:1}}.bd-root .photo img.blur{filter:blur(12px);transform:scale(1.02)}.bd-root .photo img.ready{transition:filter .35s ease, opacity .35s ease, transform .35s ease;filter:blur(0)}.bd-root .shimmer{position:relative;overflow:hidden}.bd-root .shimmer::after{content:"";position:absolute;inset:0;transform:translateX(-100%);background:linear-gradient(90deg,transparent,rgba(255,255,255,.08),transparent);animation:shimmer 1.2s infinite}@keyframes shimmer{.bd-root 100%{transform:translateX(100%)}}/* Lightbox zoom gestures */#bd-lightbox .viewer{touch-action:none}#bd-lightbox-image.zooming{cursor:grab}#bd-lightbox-image.zooming:active{cursor:grabbing}/* 加载指示器 */.bd-root .loading{display:inline-block;
                width:20px;
                height:20px;
                border:3px solid rgba(255,255,255,.3);
                border-radius:50%;
                border-top-color:var(--rose);
                animation:spin 1s ease-in-out infinite;}@keyframes spin{.bd-root to{transform:rotate(360deg)}}/* Performance: content-visibility for off-screen sections */.bd-root .section{content-visibility:auto;
                contain-intrinsic-size:1000px 800px;}/*
            * 滚动出现动画（IntersectionObserver 配合）：
            * - 给 section 添加 .reveal-pending 以避免首屏闪烁；
            * - 当进入视口时移除 pending 并加 .in-view 触发动画。
            * - 若用户偏好减少动效（prefers-reduced-motion），JS 将不启用动画。
            */@keyframes fadeSlideUp{.bd-root from{opacity:0;transform:translateY(16px)}.bd-root to{opacity:1;transform:translateY(0)}}.bd-root .section.reveal-pending{opacity:0}.bd-root .section.in-view{animation:fadeSlideUp .6s ease-out both}/* Skip link for accessibility */.bd-root .skip-link{position:absolute;
                top:-40px;
                left:0;
                background:var(--rose);
                color:#0D1B2A;
                padding:8px;
                text-decoration:none;
                z-index:100;}.bd-root .skip-link:focus{top:0;}/* Status/toast container */.bd-root #toast-container{position:fixed;
                top:20px;
                right:20px;
                z-index:10000;
                display:flex;
                flex-direction:column;
                gap:10px;}/* 移动动画的性能暗示 */#bd-balloons .balloon{will-change:transform}.bd-root .tile{will-change:transform}.bd-root .tile.bump{transform:scale(0.98);transition:transform .12s ease}/* 气球可点击（覆盖父层 pointer-events:none） */#bd-overlay .balloon{pointer-events:auto;}/* 高亮浮标定位上下文 */.bd-root [data-copy-key]{position:relative;}/* ===== 甜蜜可爱主题 ===== *//* ===== 更好看的气球 ===== */#bd-balloons .balloon{filter:drop-shadow(0 10px 18px rgba(0,0,0,.35));}#bd-balloons .balloon .b{width:56px;
                height:74px; 
                position:relative;
                background:linear-gradient(145deg, var(--balloon-color,#ff6b9d), var(--balloon-dark,#c9184a));
                border-radius:52% 52% 50% 50% / 62% 62% 42% 42%;
                box-shadow:
                    inset -14px -16px 24px rgba(0,0,0,.25),
                    inset 10px 12px 24px rgba(255,255,255,.28);}/* 心形变体 *//* —— 更自然的心形 —— */#bd-balloons .balloon.heart .b{width:64px; height:64px;
                background:linear-gradient(145deg, var(--balloon-color,#ff6b9d), var(--balloon-dark,#c9184a));
                position:relative;
                box-shadow:
                    inset -12px -12px 20px rgba(0,0,0,.22),
                    inset 10px 10px 20px rgba(255,255,255,.26),
                    0 10px 18px rgba(0,0,0,.35);}/* 心形用更圆润的 path（对称、底部不过尖） */@supports (clip-path: path("M0,0 L1,0 L1,1 Z")){#bd-balloons .balloon.heart .b{-webkit-clip-path: path("M32 61 C20 48, 8 36, 8 24 C8 14, 16 8, 24 8 C28 8, 32 10.5, 32 15 C32 10.5, 36 8, 40 8 C48 8, 56 14, 56 24 C56 36, 44 48, 32 61 Z");
                            clip-path: path("M32 61 C20 48, 8 36, 8 24 C8 14, 16 8, 24 8 C28 8, 32 10.5, 32 15 C32 10.5, 36 8, 40 8 C48 8, 56 14, 56 24 C56 36, 44 48, 32 61 Z");}}/* 不支持 path() 的退化形状（更圆一点） */@supports not (clip-path: path("M0,0 L1,0 L1,1 Z")){#bd-balloons .balloon.heart .b{clip-path: polygon(50% 92%, 22% 52%, 22% 32%, 36% 18%, 50% 30%, 64% 18%, 78% 32%, 78% 52%);}}/* 只屏蔽旧实现里的补形小块（如果还在 DOM 里），不要屏蔽高光和系结 */#bd-balloons .balloon.heart .b > i{display:none;}/* 只保留高光一次，避免接缝 */#bd-balloons .balloon .b::before{content:"";
                position:absolute; inset:0;
                background:radial-gradient(45% 35% at 28% 28%, rgba(255,255,255,.55), transparent 60%);
                pointer-events:none;}/* 拼图幽灵底图支持 *//* 取消对容器/子元素的整体透明度 */.bd-root .puzzle.ghost{opacity: 1;
                background-position:center; 
                background-size:100% 100%; 
                background-repeat:no-repeat;}/* 用伪元素渲染底图半透明罩层，只影响底图，不影响 tile */.bd-root .puzzle::before{content:none;}.bd-root .puzzle.ghost::before{content:"";
                position:absolute; inset:0; pointer-events:none;
                background-image: inherit;
                background-position:center;
                background-size:100% 100%;
                opacity:.22;                 /* 想更清晰就调小这个数 */}/* tile 维持满色显示 */.bd-root .puzzle .tile{opacity: 1;
                transition: transform .15s ease;}/* —— 绝对清除历史三角系结/补片 —— */#bd-balloons .balloon .b::after, #bd-balloons .balloon.heart .b::after, #bd-balloons .balloon .b > i, #bd-balloons .balloon .b > i::before, #bd-balloons .balloon .b > i::after{content:none !important;
                display:none !important;
                border:0 !important;
                clip-path:none !important;
                box-shadow:none !important;
                background:none !important;}/* knot 仍压在最上面覆盖接缝 */#bd-balloons .balloon .k{position:relative;
                z-index:2;
                width:12px; height:8px;
                margin-top:-1px;
                background:linear-gradient(180deg, var(--balloon-dark,#c9184a), #6b0f2a);
                border-radius:0 0 6px 6px;}/* —— 用 SVG 画绳：圆端头，彻底没有"箭头" —— */#bd-balloons .balloon svg.s{display:block;
                position:relative;
                top:-2px;           /* 轻轻插入结里一点 */
                z-index:1;
                overflow:visible;   /* 让圆端不被裁 */}#bd-balloons .balloon svg.s line{stroke:rgba(255,255,255,.85);
                stroke-width:2;
                stroke-linecap:round;   /* 关键：圆端 */}/* 万一某处仍渲染了旧的 div.s，直接屏蔽 */#bd-balloons .balloon div.s{display:none !important;}/* 心形气球专用：更真实的"系口+结"形状 */#bd-balloons .balloon.heart .k{z-index:3;                    /* 覆盖接缝 */
                width:18px;
                height:12px;
                margin-top:-3px;              /* 轻插入心形底部一点 */
                position:relative;
                border-radius:9px 9px 8px 8px;
                background:
                    radial-gradient(120% 120% at 50% 20%, rgba(255,255,255,.45), transparent 55%),
                    linear-gradient(180deg, var(--balloon-color,#ff6b9d), var(--balloon-dark,#6b0f2a));
                box-shadow:
                    inset 0 -3px 4px rgba(0,0,0,.35),
                    0 1px 0 rgba(255,255,255,.22) inset;}/* "颈部"——上窄下宽，插进心形里，让连接更顺滑（圆润版） */#bd-balloons .balloon.heart .k::before{content:"";
                position:absolute;
                left:50%;
                top:-7px;                             /* 颈部往上插入心形 */
                transform:translateX(-50%);
                width:22px;
                height:14px;
                background:linear-gradient(180deg, var(--balloon-color,#ff6b9d), var(--balloon-dark,#6b0f2a));
                /* Fallback：更温和的多边形（避免尖锐菱形） */
                clip-path: polygon(50% 2%, 74% 42%, 50% 90%, 26% 42%);
                filter: drop-shadow(0 1px 0 rgba(0,0,0,.22));
                border-radius: 6px;                   /* 进一步柔化边缘（部分浏览器对 clip-path 边角抗锯齿更友好） */}/* 支持 path() 时使用圆润贝塞尔颈部（上窄下宽，过渡顺滑） */@supports (clip-path: path("M0,0 L1,0 L1,1 Z")){#bd-balloons .balloon.heart .k::before{-webkit-clip-path: path("M11 0 C14 2, 19 7, 19 10 C19 12, 16 14, 11 14 C6 14, 3 12, 3 10 C3 7, 8 2, 11 0 Z");
                            clip-path: path("M11 0 C14 2, 19 7, 19 10 C19 12, 16 14, 11 14 C6 14, 3 12, 3 10 C3 7, 8 2, 11 0 Z");}}/* 绳子和新结对齐得更自然一点 */#bd-balloons .balloon.heart svg.s{top:-1px;}/* 正文统统抬到上面（只选 body 的直接子元素）*//* Fix: 首帧 300×150 画布白块 & 画布布局抖动 */canvas{display:block;}.bd-root #bd-starfield, #bd-fireworks{width:100vw; height:100vh;}#bd-fireworks{background:transparent;}/* 明示透明，避免某些 UA 默认底色 *//* 首帧白块防护：星空在"准备好"前先透明，绘制后淡入 */.bd-root #bd-starfield{background:#0b1420;}.bd-root #bd-starfield:not([data-ready]){opacity:0;}.bd-root #bd-starfield[data-ready]{opacity:1; transition:opacity .18s ease;}/* Hero 文案最大宽度，首屏更聚焦 */.bd-root .hero-content{max-width:min(820px,92vw);}